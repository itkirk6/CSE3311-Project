generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id           String     @id @default(cuid())
  email        String     @unique
  username     String     @unique
  passwordHash String
  isAdmin      Boolean    @default(false)
  firstName    String?
  lastName     String?
  avatarUrl    String?
  bio          String?
  createdAt    DateTime   @default(now())
  reviews      Review[]
  locations    Location[]

  @@map("users")
}

model Location {
  id                  String    @id @default(cuid())
  name                String
  description         String?
  locationType        String
  latitude            Float
  longitude           Float
  address             String?
  city                String?
  state               String?
  country             String    @default("US")
  elevation           Int?
  terrainType         String?
  climateZone         String?
  amenities           Json?
  costPerNight        Decimal?
  maxCapacity         Int?
  petFriendly         Boolean   @default(false)
  reservationRequired Boolean   @default(false)
  seasonStart         DateTime?
  seasonEnd           DateTime?
  difficultyLevel     Int?
  safetyNotes         String?
  regulations         String?
  contactInfo         Json?
  websiteUrl          String?
  images              Json?
  verified            Boolean   @default(false)
  isActive            Boolean   @default(true)
  createdAt           DateTime  @default(now())
  updatedAt           DateTime  @updatedAt
  rating              Float?
  createdById         String?
  reviews             Review[]
  createdBy           User?     @relation(fields: [createdById], references: [id])

  @@map("locations")
}

model Review {
  id         String   @id @default(cuid())
  rating     Int
  title      String?
  content    String
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
  userId     String
  locationId String
  location   Location @relation(fields: [locationId], references: [id])
  user       User     @relation(fields: [userId], references: [id])
}
